{% extends "base.html" %}

{% block content %}
<h1 class="text-xl mb-4">Port Check</h1>
<form method="post" class="space-y-4">
  <div>
    <label for="device_id" class="block">Switch</label>
    <select id="device_id" name="device_id" class="p-2 text-black">
      {% for dev in devices %}
      <option value="{{ dev.id }}" {% if selected==dev.id %}selected{% endif %}>{{ dev.hostname }}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <label for="port_name" class="block">Port</label>
    <input id="port_name" type="text" name="port_name" value="{{ port_name or '' }}" class="p-2 text-black" required />
  </div>
  <button type="submit" class="block px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded transition">Check</button>
</form>
{% if error %}<p class="text-red-500 mt-2">{{ error }}</p>{% endif %}
{% if output %}
<h2 class="text-lg mt-4">Output</h2>
<pre class="bg-black p-2 whitespace-pre-wrap overflow-auto">{{ output }}</pre>
{% endif %}
{% endblock %}
