<nav class="bg-[var(--nav-bg)] text-[var(--nav-text)] p-2">
  <div class="px-6 mx-auto max-w-screen-2xl">
    <div class="flex flex-col space-y-1">
      <a href="javascript:history.back()" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Back</a>
      {% if current_user %}
      <div class="flex flex-col space-y-1 submenu text-sm">
        <a href="/dashboard" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Dashboard</a>
        <a href="/devices" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Devices</a>
        <a href="/network/ip-search" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">IP Search</a>
        <a href="/vlans" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">VLAN MGMT</a>
        <a href="/network/port-configs" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Port Configs</a>
        <a href="/tasks" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Task Queue</a>
        <a href="/reports/vlan-usage" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">VLAN Usage</a>
        {% if current_user.role in ['admin','superadmin'] %}
        <a href="/tasks/google-sheets" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Google Sheets</a>
        {% endif %}
        <span class="mt-2 font-bold">Inventory Admin</span>
        <a href="/tasks/edit-tags" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Edit Tags</a>
        <a href="/device-types" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Device Types</a>
        <a href="/inventory/sites" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Site Inventory</a>
        <a href="/inventory/trailers" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Trailer Inventory</a>
        {% if current_user.role in ['editor','admin','superadmin'] %}
        <a href="/inventory/add-device" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Add Device</a>
        {% endif %}
        <span class="mt-2 font-bold">Reports</span>
        <a href="/inventory/audit" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Audit</a>
        <a href="/devices/duplicates" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Duplicate Checker</a>
        <span class="mt-2 font-bold">Network Devices</span>
        <a href="/ssh/port-config" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Port Config</a>
        <a href="/ssh/port-check" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Port Check</a>
        <a href="/ssh/config-check" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Config Check</a>
        <a href="/ssh/port-search" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Port Search</a>
        <a href="/ssh/bulk-port-update" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Bulk Port Update</a>
        <a href="/bulk/vlan-push" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">VLAN Bulk Push</a>
        {% if current_user.role in ['admin','superadmin'] %}
        <span class="mt-2 font-bold">Tunables</span>
        {% for cat in get_tunable_categories() %}
        <a href="/tunables?category={{ cat | urlencode }}" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">{{ cat }}</a>
        {% endfor %}
        <a href="/admin/logo" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Upload Logo</a>
        {% if allow_self_update() %}
        <a href="/admin/update" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">Update System</a>
        {% endif %}
        {% endif %}
        {% if current_user.role in ['admin','superadmin'] %}
          {% if current_user.role == 'superadmin' %}
          {% set admin_items = [
            {'label':'SSH Credentials','href':'/admin/ssh'},
            {'label':'SNMP Credentials','href':'/admin/snmp'},
            {'label':'Tag Manager','href':'/admin/tags'},
            {'label':'Locations','href':'/admin/locations'},
            {'label':'Device Import','href':'/bulk/device-import'},
            {'label':'Audit Log','href':'/admin/audit'},
            {'label':'IP Bans','href':'/admin/ip-bans'},
            {'label':'User Management','href':'/admin/users'},
            {'label':'Debug Logs','href':'/admin/debug'},
            {'label':'Site Keys','href':'/admin/site-keys'},
            {'label':'Cloud Sync','href':'/admin/cloud-sync'}
          ] %}
          {% else %}
          {% set admin_items = [
            {'label':'SSH Credentials','href':'/admin/ssh'},
            {'label':'SNMP Credentials','href':'/admin/snmp'},
            {'label':'Locations','href':'/admin/locations'},
            {'label':'Device Import','href':'/bulk/device-import'}
          ] %}
          {% endif %}
          {% for item in admin_items %}
          <a href="{{ item.href }}" class="px-4 py-2 text-[var(--font-size)] text-[var(--tab-text)] bg-[var(--tab-bg)] hover:bg-[var(--tab-hover)] rounded transition">{{ item.label }}</a>
          {% endfor %}
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>
</nav>
