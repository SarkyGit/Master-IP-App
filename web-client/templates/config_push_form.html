{% extends "base.html" %}

{% block content %}
<h1 class="text-xl mb-4">Push Config to {{ device.hostname }}</h1>
{% if cred_source %}
<p class="text-sm">Using {{ cred_source == 'user' and 'personal' or 'device' }} credentials{{ ' (' ~ cred_name ~ ')' if cred_name else '' }}</p>
{% endif %}
<form method="post" class="space-y-4">
  <div>
    <label for="config_text" class="block">Configuration</label>
    <textarea id="config_text" name="config_text" rows="10" class="w-full p-2 rounded bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)]" required></textarea>
  </div>
  {% if error %}
  <p class="p-2 rounded bg-[var(--alert-bg)]">{{ error }}</p>
  {% endif %}
  <div>
    <span aria-label="Push Config" class="p-2 rounded transition cursor-pointer" role="button" tabindex="0" onclick="this.closest('form').submit()">{{ include_icon('upload','text-orange-500') }}</span>
    <a href="/devices/table" class="ml-2 underline">Cancel</a>
  </div>
</form>
{% endblock %}
