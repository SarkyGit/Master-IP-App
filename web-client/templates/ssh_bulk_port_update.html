{% extends "base.html" %}

{% block content %}
<h1 class="text-xl mb-4">Bulk Port Update</h1>
<form method="post" class="space-y-4">
  <div>
    <label for="device_ids" class="block">Switches</label>
    {% for dev in devices %}
    <label for="device_ids" class="block">
      <input id="device_ids" type="checkbox" name="device_ids" value="{{ dev.id }}" /> {{ dev.hostname }}
    </label>
    {% endfor %}
  </div>
  <div>
    <label for="ports" class="block">Ports (one per line)</label>
    <textarea id="ports" name="ports" rows="4" class="w-full p-2 rounded bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)]"></textarea>
  </div>
  <div>
    <label for="config_text" class="block">Config Snippet (use {port} for port name)</label>
    <textarea id="config_text" name="config_text" rows="5" class="w-full p-2 rounded bg-[var(--input-bg)] text-[var(--input-text)] border border-[var(--border-color)]"></textarea>
  </div>
  <span aria-label="Apply" class="p-2 rounded transition cursor-pointer" role="button" tabindex="0" onclick="this.closest('form').submit()">{{ include_icon('check') }}</span>
</form>
{% if message %}<p class="mt-4 text-green-400">{{ message }}</p>{% endif %}
{% endblock %}
